{{extend 'layout.html'}}

<div class="well well-small">
    {{=B(title)}}
</div>

<div class="well well-small">
    <div class="col-sm-2"></div>
    <div class="col-sm-10">
        <div class="btn-group btn-group-sm" role="group" aria-label="..." style="padding-bottom: 3px;">
            <button type="button" id="btn-plus" class="btn btn-info"><span class="glyphicon glyphicon-plus"></span></button>
            <button type="button" id="btn-minus" class="btn btn-info"><span class="glyphicon glyphicon-minus"></span></button>
        </div>
    </div>
    {{=form}}
</div>

<div class="well well-small">
{{if impressions:}}
    <table class="table table-stripped table-hover">
        <thead>
            <th>{{=T("Evidován")}}</th>
            <th />
            <th>{{=T("Čís.")}}</th>
        </thead>
        <tbody>
            {{T.lazy = False}}
            {{for impression in impressions:}}
                <tr>
                    <td>{{=impression.registered.strftime(T('%d.%m.%y'))}}</td>
                    <td>{{=A(T("vyřadit"), _href='%s' % URL('delete', args=(impression.answer_id, impression.id), user_signature=True))}}</td>
                    <td>{{=impression.iorder}}</td>
                </tr>
            {{pass}}
            {{T.lazy = True}}
        </tbody>
    </table>
{{else:}}
    {{=T("Zatím nemáme žádné výtisky.")}}
{{pass}}
</div>

<script>
$(document).ready(function() {
    function getOldVal() {
        return parseInt($("#no_table_new").val(), 10);
    }
    $("#btn-plus").click(function() {
        var oldVal = getOldVal();
        $("#no_table_new").val(oldVal + 1);
    });
    $("#btn-minus").click(function() {
        var oldVal = getOldVal();
        $("#no_table_new").val(Math.max(1, oldVal - 1));
    });

    $('label').css('text-align', 'right');
});
</script>
